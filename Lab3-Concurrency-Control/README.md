# 实验三：并发控制

## 任务一：Lock Manager
为了确保正确交叉事务的操作，DBMS将使用锁管理器（LM）来控制何时允许事务访问数据项。

LM的基本思想是它维护一个关于活动事务当前持有的锁的内部数据结构。

然后，事务在允许访问数据项之前向LM发出锁定请求。LM将授予对调用事务的锁定，阻止该事务或中止它。

此任务要求您实现支持两阶段锁定（2PL）和严格两阶段锁定（S2PL）的元组级LM 。

## 知识笔记
### Two-phase locking - 2PL


### wait-die
LM将实施WAIT-DIE策略以防止死锁
+ 该方案是基于非剥夺方法。当进程Pi请求的资源正被进程Pj占有时，只有当Pi的时间戳比进程Pj的时间戳小时，
即Pi比Pj老时，Pi才能等待。否则Pi被卷回（roll-back），即死亡。
+ 一个进程死亡后会释放他所占用的所有资源。在这里假定死亡的进程将带着同样的时间戳重新运行。
+ 由于具有较小时间戳的进程才等待具有较大时间戳的进程，因此很显然死锁不会发生。当进程在等待特定的资源时，不会释放资源。
+ 一旦一个进程释放一个资源，与这个资源相联系的等待队列中的一个进程将被激活。
