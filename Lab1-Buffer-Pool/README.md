# 实验一：缓冲区溢出

在存储管理器中实现缓冲池。缓冲池负责将物理页面从主存储器来回移动到磁盘。

它允许DBMS支持大于系统可用内存量的数据库。它的操作对系统中的其他部分是透明的。

例如，系统使用其唯一标识符（page_id）向缓冲池请求页面，并且它不知道该页面是否已经在内存中，或者系统是否必须从磁盘检索它。

你的实现需要是线程安全的。多个线程将同时访问内部数据结构，因此您需要确保其关键部分受锁存器保护（这些在操作系统中称为“锁”）。

需要在存储管理器中实现以下三个组件：
1. 可扩展的哈希表
2. LRU页面替换政策
3. 缓冲池管理器


## 可扩展的哈希表
### 简介
可扩展哈希表是一种动态哈希表，也就是说，它的桶的个数是可以增加的

### 特性
1. 相比较静态哈希表，桶不再是数据块本身，而是用一个指向块的指针数组来表示桶
2. 指针数组能增长，它的长度总是2的幂，因此数组每增长一次，桶的数目就翻倍
3. 不过并非每个桶都有一个数据块，如果某些桶中的所有记录可以放在一个块中，那么这些桶可以共享一个块
4. 哈希函数h为每个键计算出一个K位二进制序列，该K足够大，比如32。但是桶的数目总是使用从序列第一位或者最后一位算起的若干位，此位数小于K，比如说i位。也就是说，当i是使用的位数时，桶数组将有2的i次方个项
